<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Telegram Report BOT</title>
    <script src="https://cdn.jsdelivr.net/npm/react@18.0.0/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.0.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"></link>
</head>
<body class="bg-black text-white">
    <div id="root"></div>

    <script type="text/babel">
        const App = () => {
            const [target, setTarget] = React.useState('');
            const [reason, setReason] = React.useState('');
            const [log, setLog] = React.useState([]);

            const handleSubmit = () => {
                // Kirim data ke bot
                Telegram.WebApp.sendData(JSON.stringify({
                    action: 'generate_report',
                    target,
                    reason
                }));

                setLog([...log, `Mengirim laporan untuk: ${target}`]);
            };

            return (
                <div className="p-4 h-screen flex flex-col">
                    <h1 className="text-red-500 text-xl font-bold mb-4">Telegram Report BOT</h1>
                    
                    <div className="mb-4">
                        <label className="block text-cyan-400 mb-1">Target</label>
                        <input 
                            type="text" 
                            placeholder="Masukkan @username, link group, atau channel"
                            value={target}
                            onChange={(e) => setTarget(e.target.value)}
                            className="w-full bg-gray-800 border border-gray-700 rounded p-2 text-white"
                        />
                    </div>

                    <div className="mb-4">
                        <label className="block text-cyan-400 mb-1">Alasan / Deskripsi</label>
                        <textarea 
                            placeholder="Tulis alasan laporan..."
                            value={reason}
                            onChange={(e) => setReason(e.target.value)}
                            className="w-full bg-gray-800 border border-gray-700 rounded p-2 text-white h-32 resize-none"
                        ></textarea>
                    </div>

                    <button 
                        onClick={handleSubmit}
                        className="bg-green-600 hover:bg-green-700 text-white py-2 rounded mt-auto"
                    >
                        Mulai Report
                    </button>

                    <div className="mt-4 text-xs text-gray-500 overflow-y-auto flex-grow">
                        {log.map((entry, idx) => (
                            <div key={idx}>{entry}</div>
                        ))}
                    </div>
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
